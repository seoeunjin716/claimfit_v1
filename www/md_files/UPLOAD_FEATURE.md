# 사정의 고수 - 추가 자료 업로드 기능 전략 문서  
(진행 중 보완 자료 수집 기능)

**작성일** : 2026년 2월  
**작성자** : EUNJIN (with Grok)  
**목적** : 초기 의뢰 폼에서 받는 자료 외에, 상담·진행 과정에서 부족한 증거·서류를 실시간으로 요청·업로드할 수 있는 기능을 설계하여  
고수의 증액률 향상과 사용자 편의성을 동시에 극대화

## 1. 기능 개요 및 목표

### 기능 이름 추천
- “추가 자료 보완” 또는 “진행 중 자료 업로드”  
- 사용자에게는 “필요 자료 추가 보내기”로 노출

### 왜 필요한가? (핵심 이점)
- **고수 측**  
  - 초기 자료 부족·누락 시 즉시 요청 가능 → 증액 포인트 놓치지 않음  
  - 후속 자료 요청으로 인한 지연·전화·메시지 왕복 최소화  
  - 전체 처리 시간 단축 & 증액률 10~20% 추가 상승 가능성  
- **사용자(의뢰인) 측**  
  - 초기 입력 후에도 쉽게 보완 가능 → 중도 포기 ↓  
  - “고수가 직접 확인 중” 실시간 피드백으로 신뢰 ↑  
  - 앱 내에서 모든 자료 관리 → 편의성·투명성 강화  
- **법적·운영 측**  
  - 자료 암호화 저장 (ISMS-P 준비) 유지  
  - 중개 리스크 없음 (고수 직접 관리 구조 그대로)  
  - 과도한 업로드 방지 → 제한 설정으로 운영 부하 최소화

## 2. 구현 위치 및 사용자/고수 플로우

### 2.1 주요 통합 위치 (추천 순서)
1. **상담 탭 (채팅 화면)** – 가장 중요 & 실시간성 최고  
2. **의뢰 탭 > 진행 중 > 의뢰 상세 페이지** – 장기 의뢰 관리용  
3. **푸시 알림 & 고수 요청 시스템** – 자동화·응답률 강화

### 2.2 상담 채팅에서 추가 자료 업로드 (Primary 플로우)
**사용자 플로우**  
1. 채팅 중 고수가 “진료기록부 추가로 보내주세요” 메시지 전송  
2. 사용자 입력 바에 항상 표시된 “파일 첨부” 아이콘 (카메라 + 갤러리) 클릭  
3. 업로드 시도 → “개인정보 암호화 저장” 안내 팝업  
4. 업로드 완료 → 채팅 버블에 썸네일 표시 (클릭 시 확대·다운로드)  
5. 업로드 중 프로그레스 바 + AI 자동 응답 “고수가 확인 중입니다”  

**고수 측**  
- 새 파일 도착 시 푸시 알림 (“새 자료: 진료기록부.pdf”)  
- 채팅 내 썸네일 클릭 → 즉시 확대·다운로드  
- 관리자 모드에서 해당 파일 메모·태그 가능

**제한 및 UX 팁**  
- 세션당 최대 5장, 전체 의뢰당 20장 제한  
- 초과 시 “고수와 상담 후 추가 업로드 부탁드려요” 메시지  
- 파일 형식 제한 : 이미지(jpg,png), PDF, 문서(docx 등)  

### 2.3 의뢰 상세 페이지에서 자료 관리 (보완용)
**사용자 플로우**  
1. 의뢰 탭 > 진행 중 > 해당 의뢰 카드 클릭  
2. 상세 페이지 > “자료 목록” 섹션 (초기 첨부 파일 리스트 표시)  
3. “추가 자료 업로드” 큰 Primary 버튼  
4. 카메라/갤러리 선택 → 미리보기 → 업로드  
5. 완료 후 “자료 보완 완료” 뱃지 자동 표시

**고수 측**  
- 새 업로드 시 푸시 + “자료 업데이트” 뱃지  
- 대시보드에서 전체 자료 타임라인 확인 가능

### 2.4 푸시 알림 & 고수 요청 시스템 (자동화 핵심)
**고수 플로우**  
1. 프로필 탭 > 관리자 모드 > 해당 의뢰 선택  
2. “자료 요청” 버튼 클릭  
3. 템플릿 선택 (“진료기록부”, “현장 사진”, “통원 내역”, “기타”)  
4. 요청 메시지 자동 생성 → 사용자에게 푸시 발송  
   예: “고수가 추가 자료(진료기록부)를 요청했습니다. 업로드 부탁드려요.”

**사용자 플로우**  
- 푸시 클릭 → 상담 채팅 또는 의뢰 상세 페이지 직행  
- 요청 항목 리스트 표시 → 바로 해당 업로드 유도

## 3. 기술 스택 & 개발 우선순위

### 기술 스택 추천
- 프론트 : Flutter (image_picker, file_picker 패키지)  
- 백엔드 : Firebase Storage (파일 저장) + Firestore (메타데이터·상태 관리)  
- 푸시 : Firebase Cloud Messaging (FCM)  
- 암호화 : 업로드 전 AES 또는 Firebase 기본 암호화 활용

### 개발 우선순위
1. 상담 채팅 파일 업로드 강화 (기존 버튼 활용) – 1~2주  
2. 의뢰 상세 페이지 추가 자료 섹션 – 1~2주  
3. 고수 자료 요청 + 푸시 연동 – 1~2주  
총 예상 기간 : 3~6주 (MVP 기준)

### 예상 비용
- Flutter 개발자 1명 기준 : 500~1,000만 원  
- Firebase 비용 : 월 10~50만 원 (스토리지·FCM 사용량에 따라)

## 4. 잠재적 이슈 & 대응 전략

- **보안**  
  - 모든 파일 AES 암호화 + 고수만 접근 가능 (Firestore Security Rules)  
  - 업로드 시 “개인정보 암호화 저장” 필수 안내  
- **과부하 방지**  
  - 총 업로드 제한 (20장) + 세션당 제한 (5장)  
  - AI 챗봇으로 “필요 자료 미리 체크” 가이드 제공  
- **사용자 경험**  
  - 업로드 실패 시 재시도 버튼 + 에러 메시지 명확히  
  - 고수 응답 지연 시 “곧 확인하실 거예요” 자동 메시지  
- **확장성**  
  - v2.0 : AI OCR 자동 텍스트 추출 (서류 내용 자동 입력)  
  - v2.5 : 자료 자동 분류·태그 (진료비 영수증 / 사고 현장 사진 등)

## 5. 예상 효과 & KPI

- 의뢰 완료율 +15~25% (중도 이탈 감소)  
- 고수 1건당 평균 처리 시간 20~30% 단축  
- 추가 자료 요청 후 응답률 70% 이상 목표  
- 사용자 만족도 (NPS) +10~15pt 상승 예상

## 6. 다음 단계 로드맵

1. Figma로 채팅 업로드 + 의뢰 상세 페이지 mockup 제작  
2. 고수(운영자)와 1:1 인터뷰 (“어떤 자료를 가장 자주 추가 요청하나요?”)  
3. MVP 개발 : 채팅 업로드 우선 → 의뢰 상세 → 푸시 연동 순  
4. 베타 테스트 : 실제 의뢰 20~30건 대상 피드백 수집  
5. v1.5 목표 출시 : 2026년 5~6월

이 기능이 도입되면 “사정의 고수”는 초기 접수 이후에도 끊김 없이 자료를 보완할 수 있는  
가장 실무 친화적인 손해사정 앱으로 자리 잡을 수 있을 것입니다.

추가 질문이나 UI 세부 조정 필요 시 언제든 말씀해주세요!